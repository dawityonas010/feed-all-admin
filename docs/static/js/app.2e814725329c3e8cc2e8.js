webpackJsonp([1],{0:function(t,e){},"3BMa":function(t,e){},"4pow":function(t,e){},"7zck":function(t,e){},BQ67:function(t,e){},CZKn:function(t,e){},JJpG:function(t,e){},Jv3n:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{id:"app"}},[e("router-view",{attrs:{app:""}})],1)},staticRenderFns:[]};var a=i("VU/8")({name:"app"},o,!1,function(t){i("Jv3n")},null,null).exports,r=i("/ocq"),s=i("Sazm"),l=i.n(s).a.initializeApp({apiKey:"AIzaSyDAPPB6dn6Lb9ju4sgBPrnNts3xM7P2pQA",authDomain:"lota-de664.firebaseapp.com",databaseURL:"https://lota-de664.firebaseio.com",projectId:"lota-de664",storageBucket:"lota-de664.appspot.com",messagingSenderId:"1006947910849"}),c={name:"Panel",data:function(){return{navActive:!0,nav:[{title:"Dashboard",route:"/dashboard",icon:"fa-bar-chart"},{title:"Introduction",route:"/intro",icon:"fa-comment-o"},{title:"Intro Background",route:"/introbg",icon:"fa-file-image-o"},{title:"Services",route:"/services",icon:"fa-bell-o"},{title:"Gallery",route:"/gallery",icon:"fa-picture-o"},{title:"Reviews",route:"/reviews",icon:"fa-star-o"}]}},methods:{firebaseLogout:function(){l.auth().signOut().then(function(){}).catch(function(t){})},toggleNav:function(){this.navActive=!this.navActive},goTo:function(t){H.push(t)}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"Panel"}},[i("v-app",[i("v-toolbar",{attrs:{app:"",color:"teal",dark:""}},[i("v-toolbar-side-icon",{on:{click:t.toggleNav}},[i("v-icon",[t._v("fa-bars")])],1),t._v(" "),i("v-toolbar-title",[t._v("Apartmani Lota")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{icon:""},on:{click:t.firebaseLogout}},[i("v-icon",{staticClass:"right",attrs:{icon:""}},[t._v("fa-sign-out")])],1)],1),t._v(" "),i("v-content",{staticClass:"bg",attrs:{app:""}},[i("router-view")],1),t._v(" "),i("v-navigation-drawer",{attrs:{app:"",light:"",fixed:""},model:{value:t.navActive,callback:function(e){t.navActive=e},expression:"navActive"}},[i("div",{staticClass:"black-logo"}),t._v(" "),i("v-divider"),t._v(" "),i("v-list",{staticClass:"pt-0",attrs:{dense:""}},t._l(t.nav,function(e){return i("v-list-tile",{key:e.title,staticClass:"list__tile--link",on:{click:function(i){t.goTo(e.route)}}},[i("v-list-tile-action",[i("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)}))],1),t._v(" "),i("v-footer",{attrs:{app:"",color:"teal"}})],1)],1)},staticRenderFns:[]};var d=i("VU/8")(c,v,!1,function(t){i("3BMa")},"data-v-83509f4e",null).exports,u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"Dashboard"}},[e("v-container",{staticClass:"bg",attrs:{fluid:""}},[e("div",{staticClass:"flex-wrapper white--text"},[e("h2",{staticClass:"display-3"},[this._v("Welcome to Admin Panel")]),this._v(" "),e("v-btn",{attrs:{id:"linkToLota",color:"pink darken-2",round:"",large:"",dark:"",href:"https://www.apartmani-lota.com",target:"_blank"}},[this._v("Lota Home "),e("v-icon",{attrs:{right:""}},[this._v("fa-external-link")])],1)],1)])],1)},staticRenderFns:[]};var f=i("VU/8")({name:"Dashboard",data:function(){return{}}},u,!1,function(t){i("wH++")},"data-v-f564dd28",null).exports,p=i("c/Tr"),h=i.n(p),m=(i("3VHS"),l.firestore()),w=l.storage().ref(),g={name:"Reviews",data:function(){return{newReviewDialog:!1,valid:!0,newReview:{id:null,profileUrl:null,name:null,comment:null,position:null,profilePhoto:null},tableHeaders:[{text:"Icon",value:"profileUrl"},{text:"Position",value:"position"},{text:"Title",value:"name"},{text:"Description",value:"comment"}],reviews:[],reviewsLoading:!1,editOn:!1}},methods:{listReviews:function(){var t=this;this.reviewsLoading=!0,this.reviews=[],m.collection("reviews").get().then(function(e){e.forEach(function(e){var i={id:e.id,profileUrl:e.data().profileUrl,profilePath:e.data().profilePath,name:e.data().name,comment:e.data().comment,position:e.data().position};t.reviews.push(i)})}),this.reviewsLoading=!1},resetNewReview:function(){this.newReview={id:null,profileUrl:null,name:null,comment:null,position:null,profilePhoto:null},this.editOn=!1,this.newReviewDialog=!1,this.$refs.reviewForm.reset();var t=document.getElementById("photoUploadInput");t.value=t.defaultValue},startEdit:function(t){this.newReview={id:t.id,profileUrl:t.profileUrl,profilePath:t.profilePath,name:t.name,comment:t.comment,position:t.position},this.editOn=!0,this.newReviewDialog=!0},updateReview:function(){var t=this;if(this.newReview.name&&this.newReview.comment&&this.newReview.position)if(this.newReview.profilePhoto)this.deletePhoto(this.newReview.profilePath),h()(this.newReview.profilePhoto).forEach(function(e){var i=w.child("profilePhotos/"+t.newReview.name).put(e);i.on("state_changed",function(t){var e=parseInt(t.bytesTransferred/t.totalBytes*100);console.log("Upload is "+e+"% done")},function(t){console.log(t)},function(){var e=i.snapshot.downloadURL,n=i.snapshot.metadata.fullPath;m.collection("reviews").doc(t.newReview.id).set({name:t.newReview.name,comment:t.newReview.comment,position:t.newReview.position,profileUrl:e,profilePath:n}).then(function(e){t.listReviews(),console.log("Document successfully written!",e),t.resetNewReview()}).catch(function(){console.error("Error writing document: ",error)})})});else{m.collection("reviews").doc(this.newReview.id).set({name:this.newReview.name,comment:this.newReview.comment,position:this.newReview.position,profileUrl:this.newReview.profileUrl,profilePath:this.newReview.profilePath}).then(function(e){t.listReviews(),console.log("Document successfully written!",e),t.resetNewReview()}).catch(function(){console.error("Error writing document: ",error)})}},deletePhoto:function(t){w.child(t).delete().then(function(){console.log("image deleted")}).catch(function(t){console.log("error",t)})},deleteReview:function(t){var e=this;confirm("Are you sure?")&&(this.deletePhoto(t.profilePath),m.collection("reviews").doc(t.id).delete().then(function(t){e.listReviews(),console.log("Document successfully deleted!")}).catch(function(t){console.error("Error removing document: ",t)}))},processFiles:function(t){this.newReview.profilePhoto=t.target.files},createNewReview:function(){var t=this;h()(this.newReview.profilePhoto).forEach(function(e){console.log("review",t.newReview);var i=w.child("profilePhotos/"+t.newReview.name).put(e);i.on("state_changed",function(t){var e=parseInt(t.bytesTransferred/t.totalBytes*100);console.log("Upload is "+e+"% done")},function(t){console.log(t)},function(){var e=i.snapshot.downloadURL,n=i.snapshot.metadata.fullPath;m.collection("reviews").add({profileUrl:e,profilePath:n,name:t.newReview.name,comment:t.newReview.comment,position:t.newReview.position}).then(function(e){t.listReviews(),t.resetNewReview(),t.newReviewDialog=!1}).catch(function(t){return console.log(err)})})})}},created:function(){this.listReviews()}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"Reviews"}},[i("v-container",{attrs:{fluid:""}},[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-flex",{attrs:{md11:"",xs12:""}},[i("v-card",[i("v-card-title",{staticClass:"headline pink darken-2 white--text"},[t._v("Reviews")]),t._v(" "),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.tableHeaders,items:t.reviews,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[i("td",{staticClass:"text-xs-right"},[i("img",{staticClass:"profile-preview",attrs:{src:e.item.profileUrl}})]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.position))]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.name))]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.comment))]),t._v(" "),i("td",{staticClass:"text-xs-right"},[i("v-btn",{attrs:{icon:""},on:{click:function(i){t.startEdit(e.item)}}},[i("v-icon",[t._v("fa-pencil")])],1),t._v(" "),i("v-btn",{attrs:{icon:""},on:{click:function(i){t.deleteReview(e.item)}}},[i("v-icon",[t._v("fa-times")])],1)],1)]}}])})],1)],1)],1)],1),t._v(" "),i("v-btn",{attrs:{color:"pink darken-2",dark:"",fixed:"",bottom:"",right:"",fab:""},nativeOn:{click:function(e){e.stopPropagation(),t.newReviewDialog=!t.newReviewDialog}}},[i("v-icon",[t._v("fa-plus")])],1),t._v(" "),i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.newReviewDialog,callback:function(e){t.newReviewDialog=e},expression:"newReviewDialog"}},[i("v-card",[i("v-card-title",[t.editOn?i("span",{staticClass:"headline"},[t._v("Edit Review")]):i("span",{staticClass:"headline"},[t._v("Create New Review")])]),t._v(" "),i("v-card-text",[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-form",{ref:"reviewForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{name:"name",label:"name",required:"",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.newReview.name,callback:function(e){t.$set(t.newReview,"name",e)},expression:"newReview.name"}}),t._v(" "),i("v-text-field",{attrs:{textarea:"",name:"comment",label:"comment",required:"",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.newReview.comment,callback:function(e){t.$set(t.newReview,"comment",e)},expression:"newReview.comment"}}),t._v(" "),i("v-text-field",{attrs:{type:"number",name:"position",label:"position",required:"",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.newReview.position,callback:function(e){t.$set(t.newReview,"position",e)},expression:"newReview.position"}}),t._v(" "),i("input",{attrs:{id:"photoUploadInput",name:"photo",type:"file",accept:"image/*",required:""},on:{change:function(e){t.processFiles(e)}}})],1)],1)],1)],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.resetNewReview()}}},[t._v("Cancel")]),t._v(" "),t.editOn?i("v-btn",{attrs:{color:"teal darken-1",flat:"",disabled:!t.valid},nativeOn:{click:function(e){t.updateReview()}}},[t._v("Submit")]):i("v-btn",{attrs:{color:"teal darken-1",flat:"",disabled:!t.valid},nativeOn:{click:function(e){t.createNewReview()}}},[t._v("Submit")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var x=i("VU/8")(g,_,!1,function(t){i("4pow")},"data-v-6292f9c4",null).exports,b=l.firestore(),k=l.storage().ref(),P=(k.child("home"),{name:"Gallery",data:function(){return{valid:!0,photosToUpload:[],homePhotos:[],postPhotos:[],tableHeaders:[{text:"preview",value:"url"},{text:"Position",value:"position"},{text:"name",value:"name"},{text:"path",value:"path"},{text:"options",value:"options",sortable:!1}],selectedPath:"",folders:[{text:"Gallery",value:"homePhotos"},{text:"Reviews",value:"postPhotos"}],uploadProgress:null,uploadOn:!1,previewOn:!1,photoPreview:null,uploadDialog:!1,previewDialog:!1,positionDialog:!1,currentPhoto:{id:null,name:null,path:null,url:null,position:null}}},methods:{listPhotos:function(){var t=this;this.homePhotos=[],this.postPhotos=[],b.collection("homePhotos").orderBy("position").get().then(function(e){e.forEach(function(e){var i={id:e.id,name:e.data().name,path:e.data().path,url:e.data().url,position:e.data().position};t.homePhotos.push(i)})})},processFiles:function(t){this.photosToUpload=t.target.files},uploadPhotos:function(){var t=this;this.uploadOn=!0;h()(this.photosToUpload).forEach(function(e){var i=k.child("homePhotos/"+e.name).put(e);i.on("state_changed",function(t){this.uploadProgress=parseInt(t.bytesTransferred/t.totalBytes*100),console.log("Upload is "+this.uploadProgress+"% done")},function(t){},function(){console.log("snapshot",i.snapshot);var n={url:i.snapshot.downloadURL,path:"homePhotos/"+e.name,name:e.name};b.collection("homePhotos").add(n).then(function(e){t.listPhotos(),console.log("Document written with ID: ",e.id)}).catch(function(t){console.error("Error adding document: ",t)})}),t.uploadOn=!1,t.uploadDialog=!1,t.photosToUpload=[]})},cancelUpload:function(){this.uploadDialog=!1,this.photosToUpload=[]},positionPhoto:function(t,e){var i=this;b.collection(e).doc(t.id).set({id:t.id,name:t.name,path:t.path,url:t.url,position:t.position}).then(function(t){i.cancelPosition()}).catch(function(){console.error("Error editing document: ",error)})},cancelPosition:function(){this.positionDialog=!1,this.currentPhoto={id:null,name:null,path:null,url:null,position:null}},startPosition:function(t){this.positionDialog=!0,this.currentPhoto=t},deletePhoto:function(t,e){var i=this;if(confirm("Are you sure?")){k.child(t.path).delete().then(function(){}).catch(function(t){}),b.collection(e).doc(t.id).delete().then(function(t){i.listPhotos(),console.log("Document successfully deleted!")}).catch(function(t){console.error("Error removing document: ",t)})}},openPreview:function(){this.previewDialog=!0},closePreview:function(){this.previewDialog=!1}},created:function(){this.listPhotos()}}),y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"Gallery"}},[i("v-container",{attrs:{fluid:""}},[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-flex",{attrs:{md11:"",xs12:""}},[i("v-card",[i("v-card-title",{staticClass:"headline pink darken-2 white--text"},[t._v("Gallery")]),t._v(" "),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.tableHeaders,items:t.homePhotos,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[i("td",[i("img",{staticClass:"preview pointer",attrs:{src:e.item.url},on:{click:function(e){t.openPreview()}}})]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.position))]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.name))]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.path))]),t._v(" "),i("td",{staticClass:"text-xs-right"},[i("v-btn",{attrs:{icon:""},on:{click:function(i){t.startPosition(e.item)}}},[i("v-icon",[t._v("fa-pencil")])],1),t._v(" "),i("v-btn",{attrs:{icon:""},on:{click:function(i){t.deletePhoto(e.item,"homePhotos")}}},[i("v-icon",[t._v("fa-times")])],1)],1)]}}])})],1)],1)],1)],1),t._v(" "),i("v-btn",{attrs:{color:"pink darken-2",dark:"",fixed:"",bottom:"",right:"",fab:""},nativeOn:{click:function(e){e.stopPropagation(),t.uploadDialog=!t.uploadDialog}}},[i("v-icon",[t._v("fa-upload")])],1),t._v(" "),i("v-layout",{attrs:{row:""}},[i("v-dialog",{attrs:{"max-width":"768px"},model:{value:t.previewDialog,callback:function(e){t.previewDialog=e},expression:"previewDialog"}},[i("v-card",{staticClass:"text-xs-center"},[i("v-carousel",{attrs:{"hide-delimiters":""}},t._l(t.homePhotos,function(t,e){return i("v-carousel-item",{key:e,staticClass:"fit",attrs:{src:t.url}})})),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"green darken-1",flat:"flat"},nativeOn:{click:function(e){t.closePreview()}}},[t._v("Close")])],1)],1)],1)],1),t._v(" "),i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.uploadDialog,callback:function(e){t.uploadDialog=e},expression:"uploadDialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("Photo Upload")])]),t._v(" "),i("v-card-text",[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("form",[i("input",{attrs:{type:"file",multiple:"",accept:"image/*",required:""},on:{change:function(e){t.processFiles(e)}}})])])],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.cancelUpload()}}},[t._v("Close")]),t._v(" "),i("v-btn",{attrs:{color:"teal darken-1",flat:""},nativeOn:{click:function(e){t.uploadPhotos()}}},[t._v("Upload")])],1)],1)],1)],1),t._v(" "),i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.positionDialog,callback:function(e){t.positionDialog=e},expression:"positionDialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("Position Photo")])]),t._v(" "),i("v-card-text",[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{name:"position",label:"Position",id:"position",type:"number",required:""},model:{value:t.currentPhoto.position,callback:function(e){t.$set(t.currentPhoto,"position",e)},expression:"currentPhoto.position"}})],1)],1)],1)],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.cancelPosition()}}},[t._v("Cancel")]),t._v(" "),i("v-btn",{attrs:{color:"teal darken-1",flat:"",disabled:!t.valid},nativeOn:{click:function(e){t.positionPhoto(t.currentPhoto,"homePhotos")}}},[t._v("Submit")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var R=i("VU/8")(P,y,!1,function(t){i("JJpG")},"data-v-5eac9abf",null).exports,S=l.firestore(),D={name:"Services",data:function(){return{newServiceDialog:!1,serviceFormValid:!0,newService:{id:null,icon:null,title:null,description:null,position:null},tableHeaders:[{text:"Position",value:"position"},{text:"Icon",value:"icon"},{text:"Title",value:"title"},{text:"Description",value:"description"}],services:[],servicesLoading:!1,editOn:!1}},methods:{listServices:function(){var t=this;this.servicesLoading=!0,this.services=[],S.collection("services").get().then(function(e){e.forEach(function(e){var i={id:e.id,icon:e.data().icon,title:e.data().title,description:e.data().description,position:e.data().position};t.services.push(i)})}),this.servicesLoading=!1},createNewService:function(){var t=this;this.newService.icon&&this.newService.title&&this.newService.description&&this.newService.position&&S.collection("services").add({icon:this.newService.icon,title:this.newService.title,description:this.newService.description,position:this.newService.position}).then(function(e){t.listServices(),t.resetNewService(),t.newServiceDialog=!1}).catch(function(t){return console.log(err)})},resetNewService:function(){this.newService={id:null,icon:null,title:null,description:null,position:null},this.editOn=!1,this.newServiceDialog=!1,this.$refs.serviceForm.reset()},startEdit:function(t){this.newService={id:t.id,icon:t.icon,title:t.title,description:t.description,position:t.position},this.editOn=!0,this.newServiceDialog=!0},updateService:function(){var t=this;if(this.newService.icon&&this.newService.title&&this.newService.description&&this.newService.position){S.collection("services").doc(this.newService.id).set({title:this.newService.title,description:this.newService.description,position:this.newService.position,icon:this.newService.icon}).then(function(e){t.listServices(),console.log("Document successfully written!",e),t.resetNewService()}).catch(function(){console.error("Error writing document: ",error)})}},deleteService:function(t){var e=this;if(confirm("Are you sure?"))S.collection("services").doc(t.id).delete().then(function(t){e.listServices(),console.log("Document successfully deleted!")}).catch(function(t){console.error("Error removing document: ",t)})}},created:function(){this.listServices()}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"Services"}},[i("v-container",{attrs:{fluid:""}},[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-flex",{attrs:{md11:"",xs12:""}},[i("v-card",[i("v-card-title",{staticClass:"headline pink darken-2 white--text"},[t._v("Services")]),t._v(" "),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.tableHeaders,items:t.services,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.position))]),t._v(" "),i("td",{staticClass:"text-xs-right"},[i("v-icon",[t._v(t._s(e.item.icon))])],1),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.title))]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.description))]),t._v(" "),i("td",{staticClass:"text-xs-right"},[i("v-btn",{attrs:{icon:""},on:{click:function(i){t.startEdit(e.item)}}},[i("v-icon",[t._v("fa-pencil")])],1),t._v(" "),i("v-btn",{attrs:{icon:""},on:{click:function(i){t.deleteService(e.item)}}},[i("v-icon",[t._v("fa-times")])],1)],1)]}}])})],1)],1)],1)],1),t._v(" "),i("v-btn",{attrs:{color:"pink darken-2",dark:"",fixed:"",bottom:"",right:"",fab:""},nativeOn:{click:function(e){e.stopPropagation(),t.newServiceDialog=!t.newServiceDialog}}},[i("v-icon",[t._v("fa-plus")])],1),t._v(" "),i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.newServiceDialog,callback:function(e){t.newServiceDialog=e},expression:"newServiceDialog"}},[i("v-card",[i("v-card-title",[t.editOn?i("span",{staticClass:"headline"},[t._v("Edit Service")]):i("span",{staticClass:"headline"},[t._v("Create New Service")])]),t._v(" "),i("v-card-text",[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-form",{ref:"serviceForm",attrs:{"lazy-validation":""},model:{value:t.serviceFormValid,callback:function(e){t.serviceFormValid=e},expression:"serviceFormValid"}},[i("v-text-field",{attrs:{name:"icon",label:"icon",required:"",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.newService.icon,callback:function(e){t.$set(t.newService,"icon",e)},expression:"newService.icon"}}),t._v(" "),i("v-text-field",{attrs:{name:"title",label:"title",required:"",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.newService.title,callback:function(e){t.$set(t.newService,"title",e)},expression:"newService.title"}}),t._v(" "),i("v-text-field",{attrs:{textarea:"",name:"description",label:"description",required:"",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.newService.description,callback:function(e){t.$set(t.newService,"description",e)},expression:"newService.description"}}),t._v(" "),i("v-text-field",{attrs:{type:"number",name:"position",label:"position",required:"",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.newService.position,callback:function(e){t.$set(t.newService,"position",e)},expression:"newService.position"}})],1)],1)],1)],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.resetNewService()}}},[t._v("Cancel")]),t._v(" "),t.editOn?i("v-btn",{attrs:{color:"teal darken-1",flat:"",disabled:!t.serviceFormValid},nativeOn:{click:function(e){t.updateService()}}},[t._v("Submit")]):i("v-btn",{attrs:{color:"teal darken-1",flat:"",disabled:!t.serviceFormValid},nativeOn:{click:function(e){t.createNewService()}}},[t._v("Submit")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var I=i("VU/8")(D,C,!1,function(t){i("BQ67")},"data-v-1debe921",null).exports,E={name:"Login",data:function(){return{email:null,password:null}},methods:{firebaseLogin:function(){l.auth().signInWithEmailAndPassword(this.email,this.password).then(function(t){H.push("/panel")}).catch(function(t){var e=t.code,i=t.message;console.log("error code:",e,"error message",i)})}}},U={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"Login"}},[i("v-app",[i("v-container",{attrs:{fluid:"","fill-height":""}},[i("v-layout",{attrs:{flex:"","align-center":"","justify-center":""}},[i("v-flex",{attrs:{md3:"",xs11:""}},[i("form",{on:{submit:function(e){e.preventDefault(),t.firebaseLogin(e)}}},[i("v-card",[i("v-toolbar",{staticClass:"teal"},[i("div",{staticClass:"stretch headline white--text text-xs-center"},[t._v("Apartment Lota Admin")])]),t._v(" "),i("v-card-text",[i("v-layout",{attrs:{column:""}},[i("v-flex",{attrs:{xs10:"","offset-xs1":""}},[i("v-text-field",{attrs:{color:"teal",name:"email",type:"text",label:"Email",id:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),i("v-flex",{attrs:{xs10:"","offset-xs1":""}},[i("v-text-field",{attrs:{color:"teal",name:"password",type:"password",label:"Password",id:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1),t._v(" "),i("v-card-actions",{staticClass:"justify-center"},[i("v-btn",{attrs:{dark:"",color:"teal",type:"submit"}},[t._v("LOGIN")])],1)],1)],1)])],1)],1)],1)],1)},staticRenderFns:[]};var O=i("VU/8")(E,U,!1,function(t){i("xEro")},"data-v-2d04ce4e",null).exports,q=l.firestore(),B={name:"Intro",data:function(){return{formValid:!0,intro:{id:null,title:null,body:null},editingIntro:{id:null,title:null,body:null},editIntroDialog:!1}},methods:{getIntro:function(){var t=this;q.collection("intro").get().then(function(e){e.forEach(function(e){var i={id:e.id,title:e.data().title,body:e.data().body};t.intro=i})})},startEdit:function(){this.editingIntro.id=this.intro.id,this.editingIntro.title=this.intro.title,this.editingIntro.body=this.intro.body,this.editIntroDialog=!0},cancelEdit:function(){this.editIntroDialog=!1,this.$refs.form.reset()},updateIntro:function(){var t=this;q.collection("intro").doc(this.editingIntro.id).set({title:this.editingIntro.title,body:this.editingIntro.body}).then(function(e){t.getIntro(),console.log("Document successfully written!",e),t.cancelEdit()}).catch(function(){console.error("Error writing document: ",error),t.cancelEdit()})}},created:function(){this.getIntro()}},V={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg",attrs:{id:"Intro"}},[i("v-container",{attrs:{fluid:""}},[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-flex",{attrs:{md6:"",xs12:""}},[i("v-card",[i("v-card-title",{staticClass:"headline pink darken-2 white--text"},[t._v("Introduction")]),t._v(" "),i("v-card-text",[i("h3",[t._v(t._s(t.intro.title))]),t._v(" "),i("v-spacer"),t._v(" "),i("p",[t._v(t._s(t.intro.body))])],1)],1)],1)],1)],1),t._v(" "),i("v-btn",{attrs:{color:"pink darken-2",dark:"",fixed:"",bottom:"",right:"",fab:""},on:{click:t.startEdit}},[i("v-icon",[t._v("fa-pencil")])],1),t._v(" "),i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.editIntroDialog,callback:function(e){t.editIntroDialog=e},expression:"editIntroDialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("Editing Introduction")])]),t._v(" "),i("v-card-text",[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[i("v-text-field",{attrs:{name:"title",label:"title",required:"",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.editingIntro.title,callback:function(e){t.$set(t.editingIntro,"title",e)},expression:"editingIntro.title"}}),t._v(" "),i("v-text-field",{attrs:{textarea:"",name:"body",label:"body",required:"",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.editingIntro.body,callback:function(e){t.$set(t.editingIntro,"body",e)},expression:"editingIntro.body"}})],1)],1)],1)],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.cancelEdit(e)}}},[t._v("Cancel")]),t._v(" "),i("v-btn",{attrs:{color:"teal darken-1",flat:"",disabled:!t.formValid},nativeOn:{click:function(e){t.updateIntro(e)}}},[t._v("Submit")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var F=i("VU/8")(B,V,!1,function(t){i("CZKn")},"data-v-aaa3abae",null).exports,L=l.firestore(),N=l.storage().ref(),A={name:"IntroBg",data:function(){return{formValid:!0,uploadDialog:!1,introBg:{id:null,url:null,path:null},newPhoto:null}},methods:{getIntroBg:function(){var t=this;L.collection("introBg").get().then(function(e){e.forEach(function(e){var i={id:e.id,url:e.data().url,path:e.data().path};t.introBg=i})})},uploadPhotos:function(){var t=this,e=this.introBg.id;this.introBg.path&&this.deletePhoto(this.introBg.path),h()(this.newPhoto).forEach(function(i){var n=N.child("introBg/"+e).put(i);n.on("state_changed",function(t){},function(t){console.log("upload unsuccessful")},function(){var i=n.snapshot.downloadURL,o=n.snapshot.metadata.fullPath;L.collection("introBg").doc(e).set({url:i,path:o}).then(function(e){console.log("Document successfully written!",e),t.getIntroBg()}).catch(function(){console.error("Error writing document: ",error)})})})},cancelUpload:function(){var t=document.getElementById("photoUploadInput");t.value=t.defaultValue,this.uploadDialog=!1,this.newPhoto=null,this.$refs.form.reset()},processFiles:function(t){this.newPhoto=t.target.files},deletePhoto:function(t){N.child(t).delete().then(function(){}).catch(function(t){console.log("error",t)})}},created:function(){this.getIntroBg()}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg",attrs:{id:"IntroBg"}},[i("v-container",{attrs:{fluid:""}},[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-flex",{attrs:{md6:"",xs12:""}},[i("v-card",[i("v-card-title",{staticClass:"headline pink darken-2 white--text"},[t._v("Picture")]),t._v(" "),i("v-card-text",{staticClass:"text-xs-center"},[i("img",{staticClass:"fit",attrs:{src:t.introBg.url}})])],1)],1)],1)],1),t._v(" "),i("v-btn",{attrs:{color:"pink darken-2",dark:"",fixed:"",bottom:"",right:"",fab:""},nativeOn:{click:function(e){e.stopPropagation(),t.uploadDialog=!t.uploadDialog}}},[i("v-icon",[t._v("fa-upload")])],1),t._v(" "),i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.uploadDialog,callback:function(e){t.uploadDialog=e},expression:"uploadDialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("Photo Upload")])]),t._v(" "),i("v-card-text",[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-form",{ref:"form",model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[i("input",{attrs:{id:"photoUploadInput",type:"file",accept:"image/*",required:""},on:{change:function(e){t.processFiles(e)}}})])],1)],1)],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.cancelUpload()}}},[t._v("Close")]),t._v(" "),i("v-btn",{attrs:{color:"teal darken-1",flat:"",disabled:!t.newPhoto},nativeOn:{click:function(e){t.uploadPhotos()}}},[t._v("Upload")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var j=i("VU/8")(A,$,!1,function(t){i("NRNj")},"data-v-011b81d4",null).exports;n.a.use(r.a);var T=new r.a({routes:[{path:"*",redirect:"/panel",meta:{requiresAuth:!0}},{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:O},{path:"/panel",component:d,children:[{path:"/",component:f},{path:"/reviews",component:x},{path:"/gallery",component:R},{path:"/services",component:I},{path:"/intro",component:F},{path:"/introbg",component:j}],meta:{requiresAuth:!0}}]});T.beforeEach(function(t,e,i){var n=l.auth().currentUser,o=t.matched.some(function(t){return t.meta.requiresAuth});o&&!n?i("login"):!o&&n?i("panel"):i()});var H=T,z=i("8+8L"),G=i("3EgV"),J=i.n(G);i("7zck");n.a.config.productionTip=!1,n.a.use(z.a),n.a.use(J.a),new n.a({el:"#app",router:H,created:function(){l.auth().onAuthStateChanged(function(t){t||H.push("/")})},template:"<App/>",components:{App:a}})},NRNj:function(t,e){},"wH++":function(t,e){},xEro:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2e814725329c3e8cc2e8.js.map